@model HoneyBunny.Models.Category

@using (Ajax.BeginForm("EditCategory", "Home", null, new AjaxOptions { HttpMethod = "POST" }, new { id = "categoryForm" }))
{
    <div class="modal-content">
        <div class="modal-header">
            <button class="close" data-dismiss="modal" aria-hidden="true">X</button>
            <h4>Редактировать категорию</h4>
        </div>
        <div class="modal-body">
            <dl class="dl-horizontal">
                <dt>Название</dt>
                <dd>
                    <div class="row">
                        <div class='col-sm-10'>
                            <div class="form-group">
                                @Html.TextBoxFor(model => model.Name, new { @class = "form-control", required = true })
                            </div>
                        </div>
                    </div>
                </dd>

                <dt>Описание</dt>
                <dd>
                    <div class="row">
                        <div class='col-sm-10'>
                            <div class="form-group">
                                @Html.TextAreaFor(model => model.Description, new { @class = "form-control" })
                            </div>
                        </div>
                    </div>
                </dd>

                <dt>В категории</dt>
                <dd>
                    <div class="row">
                        <div class='col-sm-10'>
                            <div class="form-group">
                                @Html.DropDownListFor(model => model.ParentId, ViewBag.AllCategories as SelectList, new { @class = "form-control" })
                            </div>
                        </div>
                    </div>
                </dd>
            </dl>
        </div>

        <div class="modal-footer">
            <div class="form-group">
                <div class="col-md-4">
                    <button id="btnDelete" class="btn btn-default">Удалить категорию...</button>
                </div>
                <div class="col-md-3">
                    <button id="btnAddProduct" class="btn btn-default">Добавить товар...</button>
                </div>
                <div class="col-md-3">
                    <button class="btn btn-default" type="submit">Сохранить</button>
                </div>
                <div class="col-md-2">
                    <button class="btn btn-default" data-dismiss="modal">Отмена</button>
                </div>
            </div>
            <script type="text/javascript">
                //$('#categoryForm').submit(function () {
                //    //debugger;
                //    var name = $('#Name')[0].value;
                //    var parent = $('#ParentId>option:selected').text();
                //    $('#Name')[0].value = parent + '/' + name;
                //});
                @*$('#btnFire').click(function (e) {
                    fireEmployee('@Model.Last_Name', e);
                });*@
            </script>
        </div>
    </div>
}

